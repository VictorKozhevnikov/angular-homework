<div class="row justify-content-center">
    <div class="col-lg-8">
        <form novalidate [formGroup]="courseForm">
            <h1>Add new course</h1>
            <div class="form-group row" [class.has-danger]="courseForm.get('title').touched && courseForm.get('title').invalid">
                <label for="title" class="col-sm-3 col-form-label text-sm-right">Title</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" placeholder="Title" formControlName="title">
                    <div class="form-control-feedback" [hidden]="!(courseForm.get('title').touched && courseForm.get('title').invalid && courseForm.get('title').errors.required)">
                        Title is required
                    </div>
                    <div class="form-control-feedback" *ngIf="courseForm.get('title').touched && courseForm.get('title').invalid && courseForm.get('title').errors.maxlength">
                        Title must be {{courseForm.get('title').errors.maxlength.requiredLength}} characters or shorter
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <div class="col-sm-9 offset-sm-3">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input type="checkbox" class="form-check-input" formControlName="isTopRated"> Top rated
                        </label>
                    </div>
                </div>
            </div>

            <div class="form-group row" [class.has-danger]="courseForm.get('description').touched && courseForm.get('description').invalid">
                <label for="title" class="col-sm-3 col-form-label text-sm-right">Description</label>
                <div class="col-sm-9">
                    <textarea type="text" rows="10" class="form-control" placeholder="Description" formControlName="description">
                    </textarea>
                    <div class="form-control-feedback" [hidden]="!(courseForm.get('description').touched && courseForm.get('description').invalid && courseForm.get('description').errors.required)">
                        Description is required
                    </div>
                    <div class="form-control-feedback" *ngIf="courseForm.get('description').touched && courseForm.get('description').invalid && courseForm.get('description').errors.maxlength">
                        Description must be {{courseForm.get('description').errors.maxlength.requiredLength}} characters or shorter
                    </div>
                </div>
            </div>

            <div class="form-group row" [class.has-danger]="courseForm.get('beginTime').touched && courseForm.get('beginTime').invalid">
                <label for="title" class="col-sm-3 col-form-label text-sm-right">Date</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" formControlName="beginTime" myDateInput [dateFormat]="dateFormat">
                    <div class="form-control-feedback" *ngIf="courseForm.get('beginTime').touched && courseForm.get('beginTime').invalid && courseForm.get('beginTime').errors.date">
                        Please enter date in format {{courseForm.get('beginTime').errors.date.requiredFormat}}
                    </div>
                </div>
            </div>

            <div class="form-group row" [class.has-danger]="courseForm.get('duration').touched && courseForm.get('duration').invalid">
                <label for="title" class="col-sm-3 col-form-label text-sm-right">Duration (minutes)</label>
                <div class="col-sm-9">
                    <div class="row">
                        <div class="col-sm-3">
                            <input type="text" class="form-control" placeholder="Duration" formControlName="duration" myIntegerInput>
                        </div>
                        <div class="col-sm-3">
                            <p class="form-control-static">{{courseForm.get('duration').value | myDuration}}</p>
                        </div>
                    </div>
                    <div class="form-control-feedback" [hidden]="!(courseForm.get('duration').touched && courseForm.get('duration').invalid && courseForm.get('duration').errors.required && !courseForm.get('duration').errors.myInteger)">
                        Duration is required
                    </div>
                    <div class="form-control-feedback" [hidden]="!(courseForm.get('duration').touched && courseForm.get('duration').invalid && courseForm.get('duration').errors.myInteger)">
                        Please enter a valid integer number
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <label for="title" class="col-sm-3 col-form-label text-sm-right">Authors</label>
                <div class="col-sm-9">
                    <p class="form-control-static text-muted">Skipped</p>
                </div>
            </div>

            <!--<div class="form-group row">
                <div class="col-sm-9 offset-sm-3">
                    <pre>{{courseData | json}}
                    </pre>
                </div>
            </div>-->

            <div class="form-group">
                <pre>{{courseForm.value | json}}</pre>
            </div>


            <div class="form-group row">
                <div class="col-sm-9 offset-sm-3">
                    <button class="btn btn-primary" (click)="save(newCourse)" [disabled]="courseForm.invalid">
                        Save course
                    </button>
                    <button class="btn btn-secondary" (click)="cancel()">
                        Cancel
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>